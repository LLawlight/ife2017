"use strict";function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,a){try{var s=t[o](a),i=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}return r("next")})}}var phantom=require("phantom");require("../../../libs/jquery-3.2.0.min.js");var keyword="phantom",code=void 0,msg=void 0,sourchURL="https://www.baidu.com/s?wd="+keyword;_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,o,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,phantom.create();case 2:return t=e.sent,e.next=5,t.createPage(["--load-images=no"]);case 5:return n=e.sent,r=Date.now(),e.next=9,n.open(sourchURL);case 9:return o=e.sent,console.log("status:",o),e.next=13,n.evaluate(function(){return $(".result.c-container").map(function(){var e={};return e.title=$(this).find(".t").text()||"",e.link=$(this).find(".t > a").attr("href")||"",e.info=$(this).find(".c-abstract").text()||"",e.pic=$(this).find(".general_image_pic img").attr("src")||"",e}).toArray()});case 13:return a=e.sent,"success"==o?(code="1",msg="抓取成功"):(code="0",msg="抓取失败"),s={code:code,msg:msg,word:keyword,time:Date.now()-r,dataList:a},console.dir(s),e.next=19,t.exit();case 19:case"end":return e.stop()}},e,this)}))();